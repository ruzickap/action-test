name: env-check

on:
  repository_dispatch:
  schedule:
    - cron: '0 9 * * 2'
  push:
    paths:
      - .github/workflows/env-check.yml

jobs:
  env-checker:
    runs-on: ubuntu-18.04
    steps:
      - uses: actions/checkout@v2

      - name: Env test
        env:
          INPUT_URL: https://${{ github.event.repository.owner.name }}.github.io/${{ github.event.repository.name }}
        run: echo "${INPUT_URL}"

      - name: Dump GitHub context
        env:
          GITHUB_CONTEXT: ${{ toJson(github) }}
        run: echo "${GITHUB_CONTEXT}"

      - name: Env
        run: echo "${GITHUB_REPOSITORY%/*} | ${GITHUB_REPOSITORY##*/} | ${GITHUB_REPOSITORY}"

      - name: Env2
        run: |
          export AAA="${GITHUB_REPOSITORY%/*}"
          export BBB="${GITHUB_REPOSITORY##*/}"
          echo "${AAA} | ${BBB}"

      - name: Env3
        env:
          TEST: |
            aaa
            bbb
            ccc
        run: |
          echo "${TEST}"
